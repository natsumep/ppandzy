<template>
  <div class="container">
    <div class="header">
      <div>
        <h1 class="title">遇见你，真美好</h1>
        <div class="header-date">
          <span class="format-data" id="formatDataSpan">{{nowTime }}</span>
        </div>
      </div>
      <div>
        <!-- <span >每日情话：</span>  -->
        <span id="qinghua" style="color:#E2A18C">{{qhText}}</span>
        <span id="refreshLoveYou" @click="showQh()">
          <svg
            t="1577117349401"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="1231"
            width="20"
            height="20"
          >
            <path
              d="M832.4 738.9c-2.3 0-4.7-0.5-6.9-1.7-7.3-3.8-10.2-12.9-6.3-20.2 44.9-86 55.3-163.8 30.9-231.4C813.4 383.9 709.4 339.4 708.3 339c-7.6-3.2-11.2-12-8.1-19.6 3.2-7.6 12-11.2 19.6-8.1 1.2 0.5 29.9 12.6 63.6 38.7 44.9 34.7 77.7 78.1 94.8 125.4 27.4 75.8 16.4 161.7-32.6 255.4-2.6 5.2-7.8 8.1-13.2 8.1zM309.5 713.8c-1.9 0-3.9-0.4-5.8-1.2-1.2-0.5-29.9-12.6-63.6-38.7-44.9-34.7-77.7-78.1-94.8-125.4-27.4-75.8-16.4-161.7 32.6-255.4 3.8-7.3 12.9-10.2 20.2-6.3 7.3 3.8 10.2 12.9 6.3 20.2-44.9 85.9-55.3 163.6-31 231.1 19 52.7 56.3 89.7 84.2 111.5 30.8 24 57.4 35.3 57.7 35.4 7.6 3.2 11.2 12 8 19.6-2.4 5.7-7.9 9.2-13.8 9.2z"
              fill="#E28187"
              p-id="1232"
            />
            <path
              d="M933.4 351.2c-1.6-6.3-3.2-12.7-4.8-19.1-10.7-43-28.6-83.4-51.7-117-28.2-40.8-63.8-71.7-105.8-91.6-56.7-26.9-119.4-33-176.5-17-58.6 16.4-104.4 53.9-129 105.5-24.5 51.6-24.6 110.8-0.3 166.6 23.7 54.4 68 99.2 124.7 126.1 35.9 17.1 71.7 20.7 103.3 24 18.4 1.9 35.8 3.7 51.9 7.8 34.4 8.9 62.4 55 62.4 102.8 0 28.7-9.1 58.1-26.2 85-9.6 15-21.3 28.8-34.8 41.1-10.1-4-22-2.3-30.7 5.3-0.9 0.8-3.4 2.5-6.9 1.6-4-1.1-6.4-5.2-5.3-9.2 1.1-4 5.2-6.4 9.2-5.3 16 4.2 32.4-5.4 36.6-21.4 4.2-16-5.4-32.4-21.4-36.6-36-9.5-73 12.1-82.4 48.1-9.5 36 12.1 73 48.1 82.4 5.7 1.5 11.5 2.2 17.2 2.2 2.5 0 5-0.2 7.4-0.4-4.3 10-6.1 21-5.2 32.2 3 35.1 32.6 61.8 67.2 61.8 1.9 0 3.8-0.1 5.8-0.2 37.1-3.2 64.7-35.9 61.5-73-1.4-16.5-15.9-28.8-32.4-27.3-16.5 1.4-28.8 15.9-27.3 32.4 0.2 2.6-0.8 4.4-1.7 5.5-0.9 1.1-2.5 2.4-5.1 2.6-4.1 0.4-7.8-2.7-8.1-6.8-0.3-3.6 1.8-5.7 2.8-6.5 9-7.3 12.7-18.7 10.5-29.4 44.5-28.5 82.7-66.1 111.9-110.9 39.5-60.6 60.4-131 60.4-203.6-0.1-58.3-12.9-108.8-25.3-157.7zM867.5 645c0.1-1.9 0.1-3.8 0.1-5.8 0-34.2-9.8-69-27.6-98.1-19.8-32.3-48.1-54.6-79.8-62.8-20.5-5.3-41-7.4-60.8-9.4-29.4-3-57.1-5.8-83.7-18.5-43.6-20.7-77.5-54.8-95.4-95.9-17.3-39.7-17.5-81.2-0.5-116.9 24.3-51.1 78.8-79.9 139.1-79.9 28.4 0 58.1 6.4 86.5 19.9 32.4 15.4 60 39.4 82.2 71.5 19.1 27.7 33.9 61.3 42.9 97.4 1.6 6.5 3.2 13 4.9 19.4 12 47.4 23.3 92.2 23.3 143-0.1 47.6-10.8 93.9-31.2 136.1zM432.6 519.2c-35.9-17.1-71.7-20.7-103.3-24-18.4-1.9-35.8-3.7-51.9-7.8-34.4-8.9-62.4-55-62.4-102.8 0-28.7 9.1-58.1 26.2-85 9.6-15 21.3-28.8 34.8-41.1 10.1 4 22 2.3 30.7-5.3 0.9-0.8 3.4-2.5 6.9-1.6 4 1.1 6.4 5.2 5.3 9.2-1.1 4-5.2 6.4-9.2 5.3-16-4.2-32.4 5.4-36.6 21.4-4.2 16 5.4 32.4 21.4 36.6 5.7 1.5 11.5 2.2 17.2 2.2 29.9 0 57.3-20.1 65.3-50.3 9.5-36-12.1-73-48.1-82.4-8.2-2.1-16.5-2.7-24.6-1.8 4.3-10 6.1-21 5.1-32.2-1.5-18-10-34.3-23.7-45.9-13.8-11.6-31.3-17.2-49.2-15.6-18 1.5-34.3 10-45.9 23.7-11.6 13.8-17.2 31.3-15.6 49.2 1.4 16.5 15.9 28.8 32.4 27.3 16.5-1.4 28.8-15.9 27.3-32.4-0.2-2.6 0.8-4.4 1.7-5.5 0.9-1.1 2.5-2.4 5.1-2.6 2.6-0.2 4.4 0.8 5.5 1.7 1.1 0.9 2.4 2.5 2.6 5.1 0.3 3.6-1.8 5.7-2.8 6.5-9 7.3-12.7 18.7-10.5 29.4-44.5 28.5-82.7 66.1-111.9 110.9C84.9 371.9 64 442.3 64 514.9c0 58.3 12.8 108.9 25.2 157.8 1.6 6.3 3.2 12.7 4.8 19.1 10.7 43 28.6 83.4 51.7 117 28.2 40.8 63.8 71.7 105.8 91.6 35.9 17.1 74.3 25.8 112.1 25.8 21.8 0 43.5-2.9 64.4-8.8 58.6-16.4 104.4-53.9 129-105.5 24.5-51.6 24.6-110.8 0.3-166.6-23.7-54.4-68-99.2-124.7-126.1z m70.2 267c-24.3 51.1-78.8 79.9-139.1 79.9-28.4 0-58.1-6.4-86.5-19.9-32.4-15.4-60-39.4-82.2-71.5-19.1-27.7-33.9-61.3-42.9-97.4-1.6-6.5-3.2-13-4.9-19.4-12-47.4-23.3-92.2-23.3-143 0-47.5 10.6-93.9 31-136-0.1 1.9-0.1 3.8-0.1 5.8 0 34.2 9.8 69 27.6 98.1 19.8 32.3 48.1 54.6 79.8 62.8 20.5 5.3 41 7.4 60.8 9.4 29.4 3 57.1 5.8 83.7 18.5 88.8 42 131.8 137.5 96.1 212.7z"
              fill="#C9383A"
              p-id="1233"
            />
          </svg>
        </span>
      </div>
    </div>
    <div class="main">
      <div class="content">
        <!-- <h1>pp And zy</h1> -->
        <div class="title">
          <div>
            Time Until
            <span style="font-size: 24px;font-weight:800;color: #F0D3DE;">2019-11-11</span> 💓
          </div>
          <div>Cherish Every Day</div>
        </div>

        <div id="DateCountdown" data-date="2019-11-11 00:00:00"></div>
      </div>
    </div>
  </div>
</template>

<script>
import { formatTime, formatWeek, getDateFormat } from "Utils/time";
import jQuery from "jquery";

import "Plugins/TimeCircles.js";
export default {
  data() {
    return {
      qhText: "miss u",
      nowTime: ""
    };
  },
  mounted() {},
  methods: {
    init() {
      this.showQh();
      this.initNowTime();
      this.$nextTick(() => {
        jQuery("#DateCountdown").TimeCircles();
      });
    },
    showQh() {
      this.getQhData().then(data => {
        this.qhText = data.content;
      });
    },
    showNowTime() {
      this.nowTime = getDateFormat();
    },
    initNowTime() {
      this.showNowTime();
      setInterval(() => {
        this.showNowTime();
      }, 1000);
    },
    async getQhData() {
      const data = await this.$api["main/qh"]();
      return data?.data;
    }
  },
  created() {
    // this.loadingInstance = this.$loading.service({ fullscreen: true });
    this.init();
  }
};
</script>
<style lang="stylus" >
.header {
  text-align: center;
}

.header .title {
  font-size: 22px;
  color: #654F57;
  letter-spacing: 20px;
  white-space: nowrap;
}

.header .header-date {
  color: #fff;
  font-size: 12px;
  //text-align: right;
  padding-right: 22px;
}

#qinghua {
  font-size: 14px;
  letter-spacing: 2px;
}

.container {
  height: 100%;
  padding: 10px;
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  /* width: 80%; */
  // max-width: 800px;
  min-height: 400px;
  overflow-y: auto;
}

.main {
  width: 100%;
  height: 80%;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-wrap: wrap;
}

h1 {
  font-size: 50px;
}

.content {
  /* height: 60%; */
}

.content .title {
  text-align: left;
  color: #fff;
  letter-spacing: 2px;
}

#refreshLoveYou {
  display: inline-block;
  vertical-align: middle;
}

/**
 *	This element is created inside your target element
 *	It is used so that your own element will not need to be altered
 **/
.time_circles {
    position: relative;
    width: 100%;
    height: 100%;
}

/**
 *	This is all the elements used to house all text used
 * in time circles
 **/
.time_circles > div {
    position: absolute;
    text-align: center;
}

/**
 *	Titles (Days, Hours, etc)
 **/
.time_circles > div > h4 {
    margin: 0px;
    padding: 0px;
    text-align: center;
    text-transform: uppercase;
    font-family: 'Century Gothic', Arial;
}

/**
 *	Time numbers, ie: 12
 **/
.time_circles > div > span {
    display: block;
    width: 100%;
    text-align: center;
    font-family: 'Century Gothic', Arial;
    font-size: 300%;
    margin-top: 0.4em;
    font-weight: bold;
}

</style>